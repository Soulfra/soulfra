{% extends "base.html" %}

{% block title %}Games - Soulfra{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto; padding: 2rem;">

  <header style="margin-bottom: 3rem; text-align: center;">
    <h1 style="font-size: 3rem; margin-bottom: 1rem;">üéÆ Games</h1>
    <p style="font-size: 1.2rem; color: #666;">
      Cross-platform games with AI judging ‚Ä¢ Your Soul evolves with every play
    </p>
  </header>

  <!-- Simple Games -->
  <section style="margin-bottom: 3rem;">
    <h2 style="font-size: 2rem; margin-bottom: 1.5rem; border-bottom: 2px solid #667eea; padding-bottom: 0.5rem;">
      ‚ö° Quick Games
    </h2>
    <p style="color: #666; margin-bottom: 2rem;">
      Simple games you can play in seconds. Each play updates your Soul Pack!
    </p>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
      {% for game in simple_games %}
        <div style="border: 2px solid #e0e0e0; border-radius: 12px; padding: 1.5rem; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: transform 0.2s, box-shadow 0.2s;">
          <div style="font-size: 3rem; margin-bottom: 1rem;">{{ game.icon }}</div>
          <h3 style="font-size: 1.5rem; margin-bottom: 0.5rem;">{{ game.name }}</h3>
          <p style="color: #666; margin-bottom: 1.5rem; min-height: 60px;">{{ game.description }}</p>

          {% if game.play_url %}
            <a href="{{ game.play_url }}"
               style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 0.75rem 1.5rem; border-radius: 6px; text-decoration: none; font-weight: 600; transition: opacity 0.2s;">
              Play Now ‚Üí
            </a>
          {% else %}
            <span style="color: #999; font-style: italic;">Coming Soon</span>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </section>

  <!-- Active Game Sessions -->
  <section>
    <h2 style="font-size: 2rem; margin-bottom: 1.5rem; border-bottom: 2px solid #667eea; padding-bottom: 0.5rem;">
      üé≤ Game Sessions
    </h2>
    <p style="color: #666; margin-bottom: 2rem;">
      Multi-turn games with persistent state. Cross-platform D&D, strategy games, and more.
    </p>

    {% if games %}
      <div style="background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
          <thead style="background: #f5f5f5;">
            <tr>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;">Game</th>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;">Type</th>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;">Status</th>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;">Players</th>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;">Actions</th>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;">Creator</th>
              <th style="padding: 1rem; text-align: left; font-weight: 600; border-bottom: 2px solid #e0e0e0;"></th>
            </tr>
          </thead>
          <tbody>
            {% for game in games %}
              <tr style="border-bottom: 1px solid #f0f0f0;">
                <td style="padding: 1rem;">
                  <div style="font-weight: 600;">{{ game.session_name }}</div>
                  <div style="font-size: 0.875rem; color: #999;">Turn {{ game.current_turn }}</div>
                </td>
                <td style="padding: 1rem;">
                  <span style="background: #e8f0fe; color: #1967d2; padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.875rem; font-weight: 500;">
                    {{ game.game_type }}
                  </span>
                </td>
                <td style="padding: 1rem;">
                  {% if game.status == 'active' %}
                    <span style="color: #10b981; font-weight: 500;">‚óè Active</span>
                  {% elif game.status == 'paused' %}
                    <span style="color: #f59e0b; font-weight: 500;">‚è∏ Paused</span>
                  {% else %}
                    <span style="color: #6b7280; font-weight: 500;">‚úì Completed</span>
                  {% endif %}
                </td>
                <td style="padding: 1rem;">{{ game.player_count }}</td>
                <td style="padding: 1rem;">{{ game.total_actions }}</td>
                <td style="padding: 1rem; color: #666;">{{ game.creator_username }}</td>
                <td style="padding: 1rem; text-align: right;">
                  <a href="{{ url_for('game_detail', game_id=game.game_id) }}"
                     style="color: #667eea; text-decoration: none; font-weight: 500;">
                    View ‚Üí
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div style="text-align: center; padding: 3rem; background: #f9f9f9; border-radius: 12px; color: #999;">
        <p style="font-size: 1.2rem; margin-bottom: 1rem;">No game sessions yet</p>
        <p>Play a quick game to get started!</p>
      </div>
    {% endif %}
  </section>

  <!-- How It Works -->
  <section style="margin-top: 4rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 12px;">
    <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">üß¨ How Games Update Your Soul</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
      <div>
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">1Ô∏è‚É£</div>
        <h4 style="margin-bottom: 0.5rem;">Play a Game</h4>
        <p style="opacity: 0.9; font-size: 0.95rem;">Make moves, answer questions, build things</p>
      </div>
      <div>
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">2Ô∏è‚É£</div>
        <h4 style="margin-bottom: 0.5rem;">AI Judges</h4>
        <p style="opacity: 0.9; font-size: 0.95rem;">AI personas evaluate based on your Soul expertise</p>
      </div>
      <div>
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">3Ô∏è‚É£</div>
        <h4 style="margin-bottom: 0.5rem;">Soul Evolves</h4>
        <p style="opacity: 0.9; font-size: 0.95rem;">Your expertise updates: expertise['chess']++</p>
      </div>
      <div>
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">4Ô∏è‚É£</div>
        <h4 style="margin-bottom: 0.5rem;">Better at Games</h4>
        <p style="opacity: 0.9; font-size: 0.95rem;">Higher expertise = better AI judgment in future</p>
      </div>
    </div>
  </section>

</div>

<style>
  table tr:hover {
    background: #fafafa;
  }

  a[href*="play"]:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }
</style>

{% endblock %}
