{% extends "base.html" %}

{% block title %}#{{ tag['name'] }} - Soulfra{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 2rem auto; padding: 0 1rem;">

    <h1>#{{ tag['name'] }}</h1>
    <p style="color: #666; margin-bottom: 1.5rem;">Posts tagged with #{{ tag['name'] }}</p>

    <div class="tag-nav" style="margin: 1.5rem 0; padding: 1rem; background: #f9f9f9; border-radius: 4px;">
      <strong style="margin-right: 1rem;">Tags:</strong>
      {% for t in tags %}
        <a href="/tag/{{ t['slug'] }}"
           style="padding: 0.3rem 0.6rem; margin-right: 0.5rem; margin-bottom: 0.5rem; background: {% if t['slug'] == tag['slug'] %}#007bff{% else %}#f0f0f0{% endif %}; color: {% if t['slug'] == tag['slug'] %}white{% else %}#333{% endif %}; text-decoration: none; border-radius: 3px; font-size: 0.9rem; display: inline-block;">
          #{{ t['name'] }}
        </a>
      {% endfor %}
    </div>

    {% if posts %}
      {% for post in posts %}
        <article style="margin: 2rem 0; padding: 1.5rem; border: 1px solid #eee; border-radius: 4px; background: white;">
          <h2 style="margin: 0 0 0.5rem 0;"><a href="/post/{{ post['slug'] }}" style="color: #007bff; text-decoration: none;">{{ post['title'] }}</a></h2>
          <time style="color: #666; font-size: 0.9rem;">{{ post['published_at'][:10] }}</time>
          <p style="margin: 1rem 0; color: #333;">{{ post['content'][:200]|safe }}...</p>
          <a href="/post/{{ post['slug'] }}" style="color: #007bff; text-decoration: none; font-weight: bold;">Read more â†’</a>
        </article>
      {% endfor %}
    {% else %}
      <p style="text-align: center; color: #666; padding: 3rem;">No posts with this tag yet.</p>
    {% endif %}
</div>
{% endblock %}
