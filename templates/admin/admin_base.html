<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Admin Dashboard{% endblock %} - StPetePros</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* COBOL-style monospace counters */
        .cobol-counter {
            font-family: 'Courier New', Courier, monospace;
            letter-spacing: 0.05em;
            font-variant-numeric: tabular-nums;
        }

        /* Assembly-level visibility styling */
        .assembly-panel {
            border: 2px solid #1e293b;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }

        /* Voice input compatibility - high contrast focus */
        *:focus {
            outline: 3px solid #fbbf24;
            outline-offset: 2px;
        }

        /* Batch processing queue styling */
        .batch-queue-item {
            transition: all 0.2s ease;
        }

        .batch-queue-item:hover {
            transform: translateX(4px);
            background: #f1f5f9;
        }

        /* Real-time counter animation */
        @keyframes counter-update {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .counter-live {
            animation: counter-update 2s infinite;
        }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-slate-50">
    <!-- Header with Navigation -->
    <header class="bg-gradient-to-r from-red-600 to-orange-600 text-white py-6 shadow-lg" role="banner">
        <div class="max-w-7xl mx-auto px-4">
            <h1 class="text-3xl font-bold">{% block header_title %}üõ°Ô∏è Admin Control Panel{% endblock %}</h1>
            <p class="opacity-90 mt-1">{% block header_subtitle %}Real-time system monitoring & batch processing{% endblock %}</p>
            <nav class="mt-4 flex gap-4 text-sm flex-wrap" role="navigation" aria-label="Admin navigation">
                <a href="/admin/stpetepros" class="opacity-80 hover:opacity-100 transition-opacity" aria-label="Main admin dashboard">‚Üê Admin Home</a>
                <a href="/admin/stpetepros/moderation" class="opacity-80 hover:opacity-100 transition-opacity" aria-label="Message moderation">Moderation</a>
                <a href="/admin/database" class="opacity-80 hover:opacity-100 transition-opacity" aria-label="Database admin">Database</a>
                <a href="/professionals" class="opacity-80 hover:opacity-100 transition-opacity" aria-label="Public directory">Public View</a>
            </nav>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- 4-Panel COBOL-Style Stats Header (Assembly-Level Visibility) -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8" role="region" aria-label="System statistics">
            {% block stats_panels %}
            <!-- Panel 1 -->
            <div class="bg-white p-6 rounded-lg shadow border-l-4 border-blue-500" role="article" aria-labelledby="stat-1">
                <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2" id="stat-1">
                    {% block stat1_label %}System Status{% endblock %}
                </div>
                <div class="cobol-counter text-4xl font-bold text-blue-600 counter-live">
                    {% block stat1_value %}0{% endblock %}
                </div>
                <div class="text-xs text-slate-400 mt-2">
                    {% block stat1_meta %}INSERT COUNT{% endblock %}
                </div>
            </div>

            <!-- Panel 2 -->
            <div class="bg-white p-6 rounded-lg shadow border-l-4 border-green-500" role="article" aria-labelledby="stat-2">
                <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2" id="stat-2">
                    {% block stat2_label %}Processed{% endblock %}
                </div>
                <div class="cobol-counter text-4xl font-bold text-green-600 counter-live">
                    {% block stat2_value %}0{% endblock %}
                </div>
                <div class="text-xs text-slate-400 mt-2">
                    {% block stat2_meta %}BATCH COMPLETE{% endblock %}
                </div>
            </div>

            <!-- Panel 3 -->
            <div class="bg-white p-6 rounded-lg shadow border-l-4 border-yellow-500" role="article" aria-labelledby="stat-3">
                <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2" id="stat-3">
                    {% block stat3_label %}Pending Review{% endblock %}
                </div>
                <div class="cobol-counter text-4xl font-bold text-yellow-600 counter-live">
                    {% block stat3_value %}0{% endblock %}
                </div>
                <div class="text-xs text-slate-400 mt-2">
                    {% block stat3_meta %}QUEUE DEPTH{% endblock %}
                </div>
            </div>

            <!-- Panel 4 -->
            <div class="bg-white p-6 rounded-lg shadow border-l-4 border-red-500" role="article" aria-labelledby="stat-4">
                <div class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2" id="stat-4">
                    {% block stat4_label %}Blocked/Errors{% endblock %}
                </div>
                <div class="cobol-counter text-4xl font-bold text-red-600 counter-live">
                    {% block stat4_value %}0{% endblock %}
                </div>
                <div class="text-xs text-slate-400 mt-2">
                    {% block stat4_meta %}ERROR COUNT{% endblock %}
                </div>
            </div>
            {% endblock %}
        </div>

        <!-- Database Performance Monitor (Assembly-Level Counters) -->
        {% block database_monitor %}
        <div class="assembly-panel rounded-lg shadow p-6 mb-8 text-white" role="region" aria-label="Database performance">
            <h2 class="text-xl font-bold mb-4">üìä Database Performance Monitor</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 cobol-counter text-sm">
                {% block db_stats %}
                <div>
                    <div class="text-slate-300 text-xs">TABLE ROWS:</div>
                    <div class="font-bold text-2xl">0</div>
                </div>
                <div>
                    <div class="text-slate-300 text-xs">DB SIZE (MB):</div>
                    <div class="font-bold text-2xl">0.00</div>
                </div>
                <div>
                    <div class="text-slate-300 text-xs">QUERY TIME:</div>
                    <div class="font-bold text-2xl">&lt;1ms</div>
                </div>
                <div>
                    <div class="text-slate-300 text-xs">CONNECTIONS:</div>
                    <div class="font-bold text-2xl">1</div>
                </div>
                {% endblock %}
            </div>
        </div>
        {% endblock %}

        <!-- Main Content Area (Batch Processing Queue) -->
        <main role="main">
            {% block content %}
            <div class="bg-white rounded-lg shadow p-12 text-center text-slate-400">
                <div class="text-4xl mb-4">üìã</div>
                <p>No content defined for this view</p>
            </div>
            {% endblock %}
        </main>

        <!-- Quick Actions Footer -->
        {% block quick_actions %}{% endblock %}
    </div>

    <!-- Voice Input Compatibility: Keyboard Shortcuts Info -->
    <div class="fixed bottom-4 right-4 bg-slate-800 text-white text-xs p-3 rounded-lg shadow-lg opacity-70 hover:opacity-100 transition-opacity" role="complementary" aria-label="Keyboard shortcuts">
        <div class="font-bold mb-1">‚å®Ô∏è Keyboard Shortcuts</div>
        <div>Tab: Navigate ‚Ä¢ Enter: Select ‚Ä¢ Esc: Cancel</div>
        <div class="text-slate-400 mt-1">Voice input compatible via browser speech API</div>
    </div>

    <!-- Auto-refresh for real-time updates -->
    {% block scripts %}
    <script>
        // Optional auto-refresh for live dashboards
        // setTimeout(() => location.reload(), 30000); // 30 sec refresh
    </script>
    {% endblock %}
</body>
</html>
