{% extends "base.html" %}

{% block title %}Soulfra Hub - All Features{% endblock %}

{% block head %}
<style>
    body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
    }

    .hub-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px 20px;
    }

    .hub-header {
        text-align: center;
        color: white;
        margin-bottom: 40px;
    }

    .hub-header h1 {
        font-size: 48px;
        font-weight: 700;
        margin: 0 0 10px 0;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .hub-header p {
        font-size: 18px;
        opacity: 0.9;
        margin: 0;
    }

    .search-bar {
        background: white;
        border-radius: 50px;
        padding: 15px 30px;
        max-width: 600px;
        margin: 30px auto;
        box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        display: flex;
        align-items: center;
    }

    .search-bar input {
        border: none;
        outline: none;
        font-size: 16px;
        flex: 1;
        padding: 5px 10px;
        background: transparent;
    }

    .search-bar input::placeholder {
        color: #999;
    }

    .hub-nav {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 30px 0 40px 0;
    }

    .hub-nav-link {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 8px;
        padding: 15px 20px;
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: #333;
        font-weight: 600;
        font-size: 14px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        transition: all 0.2s;
        border-left: 3px solid #667eea;
    }

    .hub-nav-link:hover {
        transform: translateX(5px);
        box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        border-left-color: #48bb78;
    }

    .hub-nav-link span:first-child {
        font-size: 20px;
    }

    .quick-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
    }

    .stat-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: transform 0.2s, box-shadow 0.2s;
        text-decoration: none;
        color: inherit;
        display: block;
        cursor: pointer;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }

    .stat-value {
        font-size: 36px;
        font-weight: 700;
        color: #667eea;
        margin: 0;
    }

    .stat-label {
        font-size: 13px;
        color: #666;
        margin-top: 5px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .features-section {
        margin-top: 40px;
    }

    .section-title {
        color: white;
        font-size: 24px;
        font-weight: 600;
        margin: 0 0 20px 0;
        padding-left: 10px;
        border-left: 4px solid white;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        margin-bottom: 50px;
    }

    .feature-card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: transform 0.2s, box-shadow 0.2s;
        cursor: pointer;
        text-decoration: none;
        color: inherit;
        display: block;
    }

    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    }

    .feature-icon {
        font-size: 36px;
        margin-bottom: 15px;
    }

    .feature-title {
        font-size: 18px;
        font-weight: 600;
        color: #333;
        margin: 0 0 8px 0;
    }

    .feature-description {
        font-size: 14px;
        color: #666;
        line-height: 1.5;
        margin: 0;
    }

    .feature-badge {
        display: inline-block;
        background: #667eea;
        color: white;
        font-size: 11px;
        padding: 3px 8px;
        border-radius: 12px;
        margin-top: 10px;
        font-weight: 600;
    }

    .feature-badge.new {
        background: #48bb78;
    }

    .feature-badge.beta {
        background: #ed8936;
    }

    @media (max-width: 768px) {
        .hub-header h1 {
            font-size: 32px;
        }

        .features-grid {
            grid-template-columns: 1fr;
        }

        .quick-stats {
            grid-template-columns: repeat(2, 1fr);
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="hub-container">
    <!-- Header -->
    <div class="hub-header">
        <h1>ğŸŒŸ Soulfra Hub</h1>
        <p>Your unified platform for AI-powered content and APIs</p>
    </div>

    <!-- Search Bar -->
    <div class="search-bar">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style="margin-right: 10px;">
            <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM19 19l-4.35-4.35" stroke="#999" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input type="text" id="search" placeholder="Search features, tools, and APIs..." onkeyup="filterFeatures()">
    </div>

    <!-- Navigation Links -->
    <div class="hub-nav">
        <a href="/sitemap" class="hub-nav-link">
            <span>ğŸ—ºï¸</span>
            <span>View All Routes</span>
        </a>
        <a href="/features" class="hub-nav-link">
            <span>ğŸ”Œ</span>
            <span>Plugin Dashboard</span>
        </a>
        <a href="/dashboard" class="hub-nav-link">
            <span>ğŸ“Š</span>
            <span>Live Predictions</span>
        </a>
        <a href="/admin" class="hub-nav-link">
            <span>âš™ï¸</span>
            <span>Admin Panel</span>
        </a>
    </div>

    <!-- Quick Stats (Clickable) -->
    <div class="quick-stats">
        <a href="/souls" class="stat-card">
            <div class="stat-value">{{ stats.total_users }}</div>
            <div class="stat-label">Total Users</div>
        </a>
        <a href="/souls" class="stat-card">
            <div class="stat-value">{{ stats.ai_personas }}</div>
            <div class="stat-label">AI Personas</div>
        </a>
        <a href="/live" class="stat-card">
            <div class="stat-value">{{ stats.total_comments }}</div>
            <div class="stat-label">AI Comments</div>
        </a>
        <a href="/api-tester" class="stat-card">
            <div class="stat-value">{{ stats.api_calls }}</div>
            <div class="stat-label">API Calls</div>
        </a>
        <a href="/subscribe" class="stat-card">
            <div class="stat-value">{{ stats.newsletter_subscribers }}</div>
            <div class="stat-label">Subscribers</div>
        </a>
        <a href="/" class="stat-card">
            <div class="stat-value">{{ stats.total_posts }}</div>
            <div class="stat-label">Posts</div>
        </a>
    </div>

    <!-- API & Developer Tools -->
    <div class="features-section">
        <h2 class="section-title">ğŸ”§ API & Developer Tools</h2>
        <div class="features-grid">
            <a href="/factory" class="feature-card" data-search="factory template component generator builder pinterest create">
                <div class="feature-icon">ğŸ­</div>
                <h3 class="feature-title">Feature Factory</h3>
                <p class="feature-description">Pinterest-style template browser - Build anything from templates, components, forms, colors & schemas</p>
                <span class="feature-badge new">NEW</span>
            </a>

            <a href="/api-tester" class="feature-card" data-search="api test testing developer">
                <div class="feature-icon">ğŸ§ª</div>
                <h3 class="feature-title">API Tester</h3>
                <p class="feature-description">Interactive tool to test AI comment generation APIs with real-time results</p>
                <span class="feature-badge new">NEW</span>
            </a>

            <a href="/api/docs" class="feature-card" data-search="api documentation docs reference">
                <div class="feature-icon">ğŸ“š</div>
                <h3 class="feature-title">API Documentation</h3>
                <p class="feature-description">Complete API reference with examples, authentication, and rate limits</p>
            </a>

            <a href="/freelancer-signup" class="feature-card" data-search="api key signup register developer">
                <div class="feature-icon">ğŸ”‘</div>
                <h3 class="feature-title">Get API Key</h3>
                <p class="feature-description">Sign up for API access with tiered rate limits (free, pro, enterprise)</p>
            </a>

            <a href="/admin/freelancers" class="feature-card" data-search="api keys manage admin dashboard">
                <div class="feature-icon">ğŸ‘¥</div>
                <h3 class="feature-title">API Keys Dashboard</h3>
                <p class="feature-description">Manage API keys, view usage statistics, and monitor performance</p>
            </a>
        </div>
    </div>

    <!-- AI & Content Tools -->
    <div class="features-section">
        <h2 class="section-title">ğŸ¤– AI & Content Creation</h2>
        <div class="features-grid">
            <a href="/brand-builder/start" class="feature-card" data-search="brand builder ai conversation create">
                <div class="feature-icon">ğŸ’¬</div>
                <h3 class="feature-title">Brand Builder</h3>
                <p class="feature-description">Conversational AI to build brand concepts, personas, and A/B test ideas</p>
                <span class="feature-badge new">NEW</span>
            </a>

            <a href="/brands" class="feature-card" data-search="brands personas browse list">
                <div class="feature-icon">ğŸ­</div>
                <h3 class="feature-title">Brand Personas</h3>
                <p class="feature-description">Browse AI personas, their voices, and generated content</p>
            </a>

            <a href="/admin/ollama" class="feature-card" data-search="ollama models ai management">
                <div class="feature-icon">ğŸ§ </div>
                <h3 class="feature-title">Ollama Manager</h3>
                <p class="feature-description">Manage local AI models, view available models, and configure settings</p>
            </a>

            <a href="/souls" class="feature-card" data-search="souls ai personas create">
                <div class="feature-icon">ğŸ‘¤</div>
                <h3 class="feature-title">Soul Creator</h3>
                <p class="feature-description">Create and manage AI personas with unique personalities and voices</p>
            </a>
        </div>
    </div>

    <!-- Content & Publishing -->
    <div class="features-section">
        <h2 class="section-title">ğŸ“° Content & Publishing</h2>
        <div class="features-grid">
            <a href="/" class="feature-card" data-search="posts blog articles content homepage">
                <div class="feature-icon">ğŸ“</div>
                <h3 class="feature-title">Homepage</h3>
                <p class="feature-description">Browse blog posts, articles, and AI-generated discussions</p>
            </a>

            <a href="/feed.xml" class="feature-card" data-search="rss feed xml syndication">
                <div class="feature-icon">ğŸ“¡</div>
                <h3 class="feature-title">RSS Feed</h3>
                <p class="feature-description">Global RSS/XML feed for all content and AI comments</p>
            </a>

            <a href="/subscribe" class="feature-card" data-search="newsletter email subscribe digest">
                <div class="feature-icon">ğŸ“§</div>
                <h3 class="feature-title">Subscribe</h3>
                <p class="feature-description">Subscribe to newsletter for AI comment digests and updates</p>
            </a>

            <a href="/live" class="feature-card" data-search="live feed real-time comments">
                <div class="feature-icon">âš¡</div>
                <h3 class="feature-title">Live Feed</h3>
                <p class="feature-description">Real-time stream of AI-generated comments</p>
            </a>
        </div>
    </div>

    <!-- Analytics & Monitoring -->
    <div class="features-section">
        <h2 class="section-title">ğŸ“Š Analytics & Monitoring</h2>
        <div class="features-grid">
            <a href="/dashboard" class="feature-card" data-search="dashboard analytics stats overview">
                <div class="feature-icon">ğŸ“ˆ</div>
                <h3 class="feature-title">Main Dashboard</h3>
                <p class="feature-description">Overview of system health, usage stats, and activity</p>
            </a>

            <a href="/ml/dashboard" class="feature-card" data-search="machine learning ml models training">
                <div class="feature-icon">ğŸ”¬</div>
                <h3 class="feature-title">ML Dashboard</h3>
                <p class="feature-description">Machine learning model performance and training metrics</p>
            </a>

            <a href="/reasoning" class="feature-card" data-search="reasoning analysis logic">
                <div class="feature-icon">ğŸ§©</div>
                <h3 class="feature-title">Reasoning</h3>
                <p class="feature-description">View AI reasoning patterns and decision-making processes</p>
            </a>
        </div>
    </div>

    <!-- Auto-Loaded Plugins -->
    {% if loaded_plugins %}
    <div class="features-section">
        <h2 class="section-title">ğŸ”Œ Plugins</h2>
        <div class="features-grid">
            {% for plugin in loaded_plugins %}
                {% if plugin.visible_in_hub %}
                <a href="{{ plugin.url }}" class="feature-card" data-search="{{ plugin.name|lower }} {{ plugin.description|lower }} {{ plugin.category|lower }}">
                    <div class="feature-icon">{{ plugin.icon }}</div>
                    <h3 class="feature-title">{{ plugin.name }}</h3>
                    <p class="feature-description">{{ plugin.description }}</p>
                    <span class="feature-badge">{{ plugin.category }}</span>
                </a>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- System & Admin -->
    <div class="features-section">
        <h2 class="section-title">âš™ï¸ System & Administration</h2>
        <div class="features-grid">
            <a href="/admin" class="feature-card" data-search="admin administration settings system">
                <div class="feature-icon">ğŸ› ï¸</div>
                <h3 class="feature-title">Admin Panel</h3>
                <p class="feature-description">System administration, settings, and configuration</p>
            </a>

            <a href="/login" class="feature-card" data-search="login authentication signin">
                <div class="feature-icon">ğŸ”</div>
                <h3 class="feature-title">Login</h3>
                <p class="feature-description">Sign in to your account</p>
            </a>

            <a href="/signup" class="feature-card" data-search="signup register create account">
                <div class="feature-icon">âœ¨</div>
                <h3 class="feature-title">Sign Up</h3>
                <p class="feature-description">Create a new account to access all features</p>
            </a>
        </div>
    </div>
</div>

<script>
function filterFeatures() {
    const searchTerm = document.getElementById('search').value.toLowerCase();
    const cards = document.querySelectorAll('.feature-card');

    cards.forEach(card => {
        const searchData = card.getAttribute('data-search') || '';
        const title = card.querySelector('.feature-title').textContent.toLowerCase();
        const description = card.querySelector('.feature-description').textContent.toLowerCase();

        const matches = searchData.includes(searchTerm) ||
                       title.includes(searchTerm) ||
                       description.includes(searchTerm);

        card.style.display = matches ? 'block' : 'none';
    });

    // Hide section titles if all cards in section are hidden
    const sections = document.querySelectorAll('.features-section');
    sections.forEach(section => {
        const visibleCards = section.querySelectorAll('.feature-card[style="display: block;"], .feature-card:not([style*="display: none"])');
        section.style.display = visibleCards.length > 0 ? 'block' : 'none';
    });
}
</script>
{% endblock %}
