{% extends "stpetepros/base.html" %}

{% block title %}{{ category_name }} - StPetePros{% endblock %}

{% block description %}Find trusted {{category_name|lower}} professionals in St. Petersburg, Florida{% endblock %}

{% block content %}
<div class="text-slate-600 mb-8">
  <a href="/" class="text-sky-500 hover:text-sky-600">Home</a> / {{ category_name }}
</div>

<div class="mb-8">
  <h1 class="text-4xl font-bold text-slate-900 mb-2">{{ category_name }}</h1>
  <p class="text-slate-600">{{professionals|length}} professionals found</p>
</div>

{% if professionals %}
  <div class="space-y-6">
    {% for pro in professionals %}
      <div class="bg-white p-8 rounded-xl border border-slate-200 grid grid-cols-1 md:grid-cols-[auto_1fr_auto] gap-6 items-start transition-all hover:-translate-y-1 hover:shadow-xl hover:border-sky-500">
        <div class="w-20 h-20 bg-gradient-to-br from-sky-500 to-emerald-500 rounded-xl flex items-center justify-center text-4xl text-white font-bold">
          {{ pro['business_name'][:1] }}
        </div>

        <div>
          <h3 class="text-2xl font-bold text-slate-900 mb-2">{{ pro['business_name'] }}</h3>

          {% if pro['rating_avg'] > 0 %}
            <div class="text-amber-500 mb-2">
              <span class="font-bold">â˜…</span> {{ pro['rating_avg'] }} ({{ pro['review_count'] }} reviews)
            </div>
          {% else %}
            <div class="text-slate-600 mb-2">No reviews yet</div>
          {% endif %}

          {% if pro['bio'] %}
            <div class="text-slate-600 my-2 leading-relaxed">{{ pro['bio'][:200] }}{% if pro['bio']|length > 200 %}...{% endif %}</div>
          {% else %}
            <div class="text-slate-400 my-2 italic">Bio coming soon...</div>
          {% endif %}

          <div class="text-slate-600 text-sm">
            <strong>Location:</strong> {{ pro['city'] }}, FL
            {% if pro['phone'] %}
              |  <strong>Phone:</strong> {{ pro['phone'] }}
            {% endif %}
          </div>
        </div>

        <div class="flex flex-col gap-2">
          <a href="/professional/{{ pro['id'] }}" class="px-6 py-3 bg-sky-500 text-white rounded-lg font-semibold text-center hover:bg-sky-600 transition-colors">View Profile</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="text-center py-16">
    <h2 class="text-3xl font-bold text-slate-900 mb-4">No {{ category_name|lower }} professionals yet</h2>
    <p class="text-slate-600 mb-8">Be the first to join this category!</p>
    <a href="/signup/professional" class="inline-block px-8 py-4 bg-sky-500 text-white rounded-lg font-semibold hover:bg-sky-600 transition-colors">Create Your Profile</a>
  </div>
{% endif %}
{% endblock %}
