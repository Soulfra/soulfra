<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}StPetePros{% endblock %}</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="{% block description %}StPetePros - Find trusted professionals in St. Petersburg, Florida{% endblock %}">
  <meta name="author" content="StPetePros">

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="{% block og_title %}{{ self.title() }}{% endblock %}">
  <meta property="og:description" content="{% block og_description %}{{ self.description() }}{% endblock %}">
  <meta property="og:site_name" content="StPetePros">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  {% block extra_head %}{% endblock %}
</head>
<body class="bg-slate-50 text-slate-900">
  <header class="bg-white border-b border-slate-200 sticky top-0 z-50">
    <nav class="flex justify-between items-center max-w-7xl mx-auto px-4 py-4">
      <a href="/" class="text-2xl font-bold text-slate-900 hover:text-sky-500 transition-colors">StPetePros</a>
      <div class="flex gap-8 items-center">
        <a href="/professionals" class="text-slate-600 hover:text-sky-500 font-medium transition-colors">Browse</a>
        <a href="/categories" class="text-slate-600 hover:text-sky-500 font-medium transition-colors">Categories</a>
        <a href="/about" class="text-slate-600 hover:text-sky-500 font-medium transition-colors">About</a>
        {% if session.get('user_id') %}
          <a href="/profile" class="text-slate-600 hover:text-sky-500 font-medium transition-colors">Profile</a>
          <a href="/logout" class="text-slate-600 hover:text-sky-500 font-medium transition-colors">Logout</a>
        {% else %}
          <a href="/login" class="text-slate-600 hover:text-sky-500 font-medium transition-colors">Login</a>
          <a href="/signup/professional" class="bg-emerald-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-emerald-600 transition-colors">Join as Pro</a>
        {% endif %}
      </div>
    </nav>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-8">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="p-4 my-4 rounded-lg {% if category == 'error' %}bg-red-100 text-red-800{% elif category == 'success' %}bg-emerald-100 text-emerald-800{% else %}bg-blue-100 text-blue-800{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <footer class="bg-slate-900 text-white py-8 text-center mt-16">
    <p>&copy; 2025 StPetePros - St. Petersburg, Florida's Professional Directory</p>
    <p class="mt-2 text-sm opacity-80">Serving the 727/813 area codes</p>
  </footer>
</body>
</html>
