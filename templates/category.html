{% extends "base.html" %}

{% block title %}{{ category['name'] }} - Soulfra{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 2rem auto; padding: 0 1rem;">

    <h1>üìÅ {{ category['name'] }}</h1>
    <p style="color: #666; margin-bottom: 1.5rem;">{{ category['description'] }}</p>

    <div class="category-nav" style="margin: 1.5rem 0; padding: 1rem; background: #f9f9f9; border-radius: 4px;">
      <strong style="margin-right: 1rem;">Categories:</strong>
      <a href="{{ url_for('index') }}" style="padding: 0.4rem 0.8rem; margin-right: 0.5rem; background: #e0e0e0; color: #333; text-decoration: none; border-radius: 4px; display: inline-block; margin-bottom: 0.5rem;">All Posts</a>
      {% for cat in categories %}
        <a href="/category/{{ cat['slug'] }}"
           style="padding: 0.4rem 0.8rem; margin-right: 0.5rem; margin-bottom: 0.5rem; background: {% if cat['slug'] == category['slug'] %}#007bff{% else %}#f0f0f0{% endif %}; color: {% if cat['slug'] == category['slug'] %}white{% else %}#333{% endif %}; text-decoration: none; border-radius: 4px; display: inline-block;">
          {{ cat['name'] }}
        </a>
      {% endfor %}
    </div>

    {% if posts %}
      {% for post in posts %}
        <article style="margin: 2rem 0; padding: 1.5rem; border: 1px solid #eee; border-radius: 4px; background: white;">
          <h2 style="margin: 0 0 0.5rem 0;"><a href="/post/{{ post['slug'] }}" style="color: #007bff; text-decoration: none;">{{ post['title'] }}</a></h2>
          <time style="color: #666; font-size: 0.9rem;">{{ post['published_at'][:10] }}</time>
          <p style="margin: 1rem 0; color: #333;">{{ post['content'][:200]|safe }}...</p>
          <a href="/post/{{ post['slug'] }}" style="color: #007bff; text-decoration: none; font-weight: bold;">Read more ‚Üí</a>
        </article>
      {% endfor %}
    {% else %}
      <p style="text-align: center; color: #666; padding: 3rem;">No posts in this category yet.</p>
    {% endif %}
</div>
{% endblock %}
